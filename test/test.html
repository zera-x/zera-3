<script src="../dist/wonderscript.js" type="text/javascript"></script>
<script type="text/javascript">
  var ws = wonderscript;
  var i, code, forms = [
    [],
    {},
    1,
    true,
    false,
    'on',
    'off',
    'yes',
    'no',
    ['quote', "Hello"],
    new Date(),
    ['if', true, "Hi"],
    ['if', false, "Hi", "Bye"],
    ['?', null],
    ['?', undefined],
    ['def', 'n', 1],
    ['def', 'a', [1, 2, 3]],
    ['def', 'o', {a: 1, b: 2}],
    ['.', 'a', 'length'],
    ['+', 1, 1, 4, 6],
    ['-', 3, 4, 5],
    ['*', 2, 3, 5],
    ['/', 4, 5, 2],
    ['<', 1, 3, 4],
    ['>', 5, 6, 6],
    ['=', 1, 2, 3],
    ['=', 2, 2],
    ['+', ['*', 4, 5], ['/', 5, 6]],
    ['fn', ['x'], 'x'],
    ['def', 'today', new Date()],
    [['.', 'today', 'valueOf']],
    [['fn', [], 1]],
    [['fn', ['x'], ['*', 'x', 'x']], 3],
    [['fn', ['x'], 'x'], 'a'],
    [{first: 1, second: 2}, 'first'],
    [['fn', ['x', 'y'], ['+', 'x', 'y']], 2, 3],
    ['quote', ['if', true, 3]],
    ['~#', ['fn', [], 'a'], 'b', 'c'],
    ['comment', ['def', 'sq', ['fn', ['x'], ['*', 'x', 'x']]]],
  ];

  for (i = 0; i < forms.length; ++i) {
    console.log("form:", forms[i]);
    try {
      code = ws.emit(forms[i]);
      console.log("code:", code);
      console.log("eval:", eval(code));
    }
    catch (e) {
      console.error(e);
    }
  }
</script>
